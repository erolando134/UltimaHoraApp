<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="theme-color" content="#FFD700">
  <title>Última Hora R.M.K. | Plataforma de Transporte</title>
  <link rel="icon" href="/img/logo_fondo_taxi.png">
  <link rel="manifest" href="/manifest.json">
  <style>
    /* [Mantener todos los estilos anteriores igual] */
  </style>
</head>
<body>
  <div class="logo-corner"></div>
  <div id="alert-container" class="alert-container"></div>

  <div class="contenedor-principal">
    <h1>ÚLTIMA HORA R.M.K.</h1>
    
    <div class="servicios-lista">
      Servicios que ofrecemos:<br>
      • Taxis Urbanos • Transporte Interprovincial<br>
      • Transporte de Carga • Tienda Automotriz<br>
      • Mensajería Express • Excursiones Guiadas<br>
      • Servicios Eventuales ⏱️
    </div>

    <div class="grid-columnas">
      <!-- Columna Clientes -->
      <div class="columna">
        <h2>👤 Zona de Clientes</h2>
        <div class="grupo-botones">
          <a href="/taxis-urbanos/solicitar-taxi.html" class="btn-app btn-cliente">🚖 Solicitar Taxi Urgente</a>
          <a href="/interprovincial/reservar-viaje.html" class="btn-app btn-cliente">🛣️ Reservar Viaje Interprovincial</a>
          <a href="/carga/solicitar-servicio.html" class="btn-app btn-cliente">🚚 Contratar Transporte de Carga</a>
          <a href="/tienda/tienda.html" class="btn-app btn-cliente">🛒 Acceder a la Tienda</a>
          <a href="/mensajeria/solicitar.html" class="btn-app btn-cliente">📦 Solicitar Servicio de Mensajería</a>
          <a href="/excursiones/excursiones.html" class="btn-app btn-cliente">🗺️ Reservar Excursión Turística</a>
        </div>
      </div>

      <!-- Columna Choferes -->
      <div class="columna">
        <h2>🚖 Zona de Choferes</h2>
        <div class="grupo-botones">
          <a href="/taxis-urbanos/registro-taxistas.html" class="btn-app btn-chofer">📝 Registro Taxistas</a>
          <a href="/interprovincial/registro-choferes.html" class="btn-app btn-chofer">📝 Registro Interprovincial</a>
          <a href="/carga/registro-transporte.html" class="btn-app btn-chofer">📝 Registro Transporte de Carga</a>
          <a href="/mensajeria/registro.html" class="btn-app btn-chofer">📝 Registro Mensajería</a>
          <a href="/servicios-eventuales/registro.html" class="btn-app btn-chofer">⏱️ Registro de Choferes Eventuales</a>
          <a href="/tienda/tienda-choferes.html" class="btn-app btn-chofer">🛒 Tienda para Choferes</a>
        </div>
      </div>
    </div>

    <!-- Sección Especial -->
    <a href="/seguridad/seguridad.html" class="btn-app btn-especial">🔒 Centro de Seguridad</a>
    <a href="/admin/admin.html" class="btn-app btn-especial">🔑 Panel de Administración</a>
  </div>

  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('/sw.js')
          .then(registration => {
            console.log('ServiceWorker registrado:', registration.scope);
            setInterval(() => registration.update(), 86400000);
          })
          .catch(err => {
            console.error('Error al registrar Service Worker:', err);
            showAlert('⚠️ Funcionalidad offline no disponible', 'error');
          });
      });

      const showNetworkStatus = (message, color) => {
        const status = document.createElement('div');
        status.style.cssText = `
          position: fixed;
          bottom: 20px;
          right: 20px;
          padding: 15px;
          background: ${color};
          color: white;
          border-radius: 5px;
          z-index: 1000;
        `;
        status.textContent = message;
        document.body.appendChild(status);
        setTimeout(() => status.remove(), 5000);
      };

      window.addEventListener('online', () => showNetworkStatus('✅ Conexión restablecida', '#4CAF50'));
      window.addEventListener('offline', () => showNetworkStatus('⚠️ Modo offline activado', '#FF9800'));
    }

    // Sistema de alertas mejorado
    function showAlert(message, type = 'success') {
      const alert = document.createElement('div');
      alert.className = `alert alert-${type}`;
      alert.innerHTML = `
        ${message}
        <button class="close-btn">&times;</button>
      `;
      
      document.getElementById('alert-container').appendChild(alert);
      
      alert.querySelector('.close-btn').addEventListener('click', () => {
        alert.classList.add('fade-out');
        setTimeout(() => alert.remove(), 300);
      });
      
      setTimeout(() => alert.remove(), 5000);
    }

    // Mensaje para usuarios sin JavaScript
    const noscriptAlert = document.createElement('div');
    noscriptAlert.style.cssText = `
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      background: red;
      color: white;
      padding: 1rem;
      text-align: center;
      z-index: 9999;
    `;
    noscriptAlert.textContent = '¡Habilite JavaScript para usar la aplicación!';
    document.body.prepend(noscriptAlert);
  </script>
</body>
</html>
